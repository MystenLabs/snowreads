{"id":"2408.16991","title":"Tool-Assisted Agent on SQL Inspection and Refinement in Real-World\n  Scenarios","authors":"Zhongyuan Wang, Richong Zhang, Zhijie Nie, Jaein Kim","authorsParsed":[["Wang","Zhongyuan",""],["Zhang","Richong",""],["Nie","Zhijie",""],["Kim","Jaein",""]],"versions":[{"version":"v1","created":"Fri, 30 Aug 2024 03:38:37 GMT"}],"updateDate":"2024-09-02","timestamp":1724989117000,"abstract":"  Recent Text-to-SQL methods leverage large language models (LLMs) by\nincorporating feedback from the database management system. While these methods\neffectively address execution errors in SQL queries, they struggle with\ndatabase mismatches -- errors that do not trigger execution exceptions.\nDatabase mismatches include issues such as condition mismatches and stricter\nconstraint mismatches, both of which are more prevalent in real-world\nscenarios. To address these challenges, we propose a tool-assisted agent\nframework for SQL inspection and refinement, equipping the LLM-based agent with\ntwo specialized tools: a retriever and a detector, designed to diagnose and\ncorrect SQL queries with database mismatches. These tools enhance the\ncapability of LLMs to handle real-world queries more effectively. We also\nintroduce Spider-Mismatch, a new dataset specifically constructed to reflect\nthe condition mismatch problems encountered in real-world scenarios.\nExperimental results demonstrate that our method achieves the highest\nperformance on the averaged results of the Spider and Spider-Realistic datasets\nin few-shot settings, and it significantly outperforms baseline methods on the\nmore realistic dataset, Spider-Mismatch.\n","subjects":["Computing Research Repository/Computation and Language"],"license":"http://arxiv.org/licenses/nonexclusive-distrib/1.0/"}