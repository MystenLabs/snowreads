{"id":"2407.12854","title":"Scaling Retrieval-Based Language Models with a Trillion-Token Datastore","authors":"Rulin Shao, Jacqueline He, Akari Asai, Weijia Shi, Tim Dettmers, Sewon\n  Min, Luke Zettlemoyer, Pang Wei Koh","authorsParsed":[["Shao","Rulin",""],["He","Jacqueline",""],["Asai","Akari",""],["Shi","Weijia",""],["Dettmers","Tim",""],["Min","Sewon",""],["Zettlemoyer","Luke",""],["Koh","Pang Wei",""]],"versions":[{"version":"v1","created":"Tue, 9 Jul 2024 08:27:27 GMT"}],"updateDate":"2024-07-19","timestamp":1720513647000,"abstract":"  Scaling laws with respect to the amount of training data and the number of\nparameters allow us to predict the cost-benefit trade-offs of pretraining\nlanguage models (LMs) in different configurations. In this paper, we consider\nanother dimension of scaling: the amount of data available at inference time.\nSpecifically, we find that increasing the size of the datastore used by a\nretrieval-based LM monotonically improves language modeling and several\ndownstream tasks without obvious saturation, such that a smaller model\naugmented with a large datastore outperforms a larger LM-only model on\nknowledge-intensive tasks. By plotting compute-optimal scaling curves with\nvaried datastore, model, and pretraining data sizes, we show that using larger\ndatastores can significantly improve model performance for the same training\ncompute budget. We carry out our study by constructing a 1.4 trillion-token\ndatastore named MassiveDS, which is the largest and the most diverse\nopen-sourced datastore for retrieval-based LMs to date, and designing an\nefficient pipeline for studying datastore scaling in a computationally\naccessible manner. Finally, we analyze the effect of improving the retriever,\ndatastore quality filtering, and other design choices on our observed scaling\ntrends. Overall, our results show that datastore size should be considered as\nan integral part of LM efficiency and performance trade-offs. To facilitate\nfuture research, we open-source our datastore and code at\nhttps://github.com/RulinShao/retrieval-scaling.\n","subjects":["Computing Research Repository/Computation and Language","Computing Research Repository/Artificial Intelligence","Computing Research Repository/Information Retrieval","Computing Research Repository/Machine Learning"],"license":"http://creativecommons.org/licenses/by/4.0/"}